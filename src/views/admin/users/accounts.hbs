<div class='accounts-management'>
    <div class='header'>
        <div class='title d-flex justify-content-between align-items-center'>
            <h2>Quản lý tài khoản</h2>
            <div class='search-box d-flex align-items-center'>
                <input
                    type='text'
                    id='search-input'
                    class='form-control'
                    placeholder='Tìm kiếm theo tên, email...'
                />
                <button class='btn btn-primary search-btn'>
                    <i class='fas fa-search'></i>
                </button>
            </div>
        </div>
        <div class='filters'>
            <div class='row mb-3'>
                <div class='col'>
                    <select id='statusFilter' class='form-select'>
                        <option value=''>Tất cả trạng thái</option>
                        <option value='active'>Đang hoạt động</option>
                        <option value='inactive'>Chưa kích hoạt</option>
                        <option value='suspended'>Đã khóa</option>
                    </select>
                </div>
                <div class='col'>
                    <select id='roleFilter' class='form-select'>
                        <option value=''>Tất cả vai trò</option>
                        <option value='user'>User</option>
                        <option value='admin'>Admin</option>
                        <option value='sadmin'>Super Admin</option>
                    </select>
                </div>
                <div class='col'>
                    <select id='sortBy' class='form-select'>
                        <option value=''>Sắp xếp theo</option>
                        <option value='fullName'>Họ tên</option>
                        <option value='email'>Email</option>
                        <option value='createdAt'>Thời gian đăng ký</option>
                        <option value='lastLogin'>Đăng nhập cuối</option>
                    </select>
                </div>
                <div class='col'>
                    <select id='sortOrder' class='form-select'>
                        <option value='asc'>Tăng dần</option>
                        <option value='desc'>Giảm dần</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class='table-responsive'>
        <table class='table'>
            <thead>
                <tr>
                    <th>Avatar</th>
                    <th>Họ tên</th>
                    <th>Email</th>
                    <th>Vai trò</th>
                    <th>Trạng thái</th>
                    <th>Đăng nhập cuối</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody id='accountsTable'>
                {{!-- {{#each users}}
                        <tr data-user-id="{{this.id}}">
                            <td>
                                <img src="{{this.avatar}}" alt="Avatar" class="user-avatar">
                            </td>
                            <td>{{this.fullName}}</td>
                            <td>{{this.email}}</td>
                            <td>
                                <select class="role-select form-select" {{#if this.isCurrentUser}}disabled{{/if}}>
                                    <option value="user" {{#if (eq this.role "user")}}selected{{/if}}>User</option>
                                    <option value="admin" {{#if (eq this.role "admin")}}selected{{/if}}>Admin</option>
                                    <option value="sadmin" {{#if (eq this.role "sadmin")}}selected{{/if}}>Super Admin</option>
                                </select>
                            </td>
                            <td>
                                <select class="status-select form-select" {{#if this.isCurrentUser}}disabled{{/if}}>
                                    <option value="active" {{#if (eq this.status "active")}}selected{{/if}}>Đang hoạt động</option>
                                    <option value="inactive" {{#if (eq this.status "inactive")}}selected{{/if}}>Chưa kích hoạt</option>
                                    <option value="suspended" {{#if (eq this.status "suspended")}}selected{{/if}}>Đã khóa</option>
                                </select>
                            </td>
                            <td>{{formatDate this.lastLogin}}</td>
                            <td>
                                <div class="btn-group">
                                    <button class="btn btn-info btn-sm view-details" data-bs-toggle="modal" data-bs-target="#userDetailsModal">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    {{#unless this.isCurrentUser}}
                                        <button class="btn btn-danger btn-sm delete-user">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    {{/unless}}
                                </div>
                            </td>
                        </tr>
                    {{/each}} --}}
            </tbody>
        </table>
    </div>

    <!-- Phân trang -->
    <div class='d-flex justify-content-between align-items-center mt-3'>
        <!-- Item fake -->
        <div></div>

        <nav aria-label='Page navigation'>
            <ul class='pagination justify-content-center mb-0'>
                <!-- Content will render here -->
            </ul>
        </nav>

        <div class='d-flex align-items-center'>
            <select
                id='itemsPerPage'
                class='form-select form-select-sm'
                style='width: auto;'
            >
                <option value='10'>10 / trang</option>
                <option value='15'>15 / trang</option>
                <option value='20'>20 / trang</option>
            </select>
        </div>
    </div>

    <!-- Modal chi tiết user -->
    <div class='modal fade' id='userDetailsModal' tabindex='-1'>
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <h5 class='modal-title'>Chi tiết tài khoản</h5>
                    <button
                        type='button'
                        class='btn-close'
                        data-bs-dismiss='modal'
                    ></button>
                </div>
                <div class='modal-body'>
                </div>
            </div>
        </div>
    </div>
</div>

<script type='module' src='/js/admin/users/accounts.js'></script>